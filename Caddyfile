{
    email   contact@owonafx.com
    debug
    # acme_ca https://acme-v02.api.letsencrypt.org/directory
}

(static) {
	@static {
		file
		path *.ico *.css *.js *.gif *.jpg *.jpeg *.png *.svg *.woff *.woff2 *.json
	}
	header @static Cache-Control max-age=5184000
}

place2connect.com {
    # tls contact@owonafx.com #Your email for Let's Encrypt Verification
    # import cors https://api.place2connect.com
	# import cors https://place2connect.com
    reverse_proxy place2connect-ui:3000
    # import cors https://place2connect.com
    # header Access-Control-Allow-Methods "GET, POST, PUT, PATCH, DELETE, OPTIONS"
    # header Access-Control-Allow-Headers "*"
    # encode gzip zstd
    # root * /var/www/place2connect
    # file_server
    # file_server {
	# 	precompressed br gzip
	# }
    # https://caddy.community/t/correct-way-to-set-expires-on-caddy-2/7914/13
	# @static {
	# 	file
	# 	path *.gif *.jpg *.jpeg *.png *.svg *.woff2
	# }
	# header @static Cache-Control max-age=13392000

    # root * /srv/images
    # root * /place2connect-api/images 
	# encode gzip
	# file_server

    # root * /data
    # file_server
    # https://caddy.community/t/correct-way-to-set-expires-on-caddy-2/7914/13
	# @static {
	# 	file
	# 	path *.gif *.jpg *.jpeg *.png *.svg *.woff2
	# }
	# header @static Cache-Control max-age=13392000
    # root * /var/www/place2connect/place2connect-ui
    # root * /srv/images
    root * /usr/share/
    encode zstd gzip
    file_server
    # root * /srv/images
    # encode gzip
    import static

}

api.place2connect.com {
    # import cors https://api.place2connect.com
    reverse_proxy place2connect-api:8080

    # root * /var/www/place2connect/place2connect-api/images
    root * /usr/share/
    # root * /srv/images
    encode zstd gzip
    file_server
    # root * /srv/images
    # encode gzip
    import static
}

db.place2connect.com {
    reverse_proxy postgres:5432
}

